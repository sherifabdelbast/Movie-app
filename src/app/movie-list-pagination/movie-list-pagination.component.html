<div class="p-4">
  <h2 class="text-3xl font-bold text-gray-700 mb-3">| Movies</h2>

  <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4">
    @for (movie of movies; track movie.id) {
      <div>
        <app-movie-card [movieItem]="movie"></app-movie-card>
      </div>
    } @empty {
      <p>No movies found</p>
    }
  </div>

  <div class="flex justify-center mt-8">
    <nav aria-label="Pagination" class="flex items-center space-x-2">
      <button
        (click)="goToPage(currentPage - 1)"
        [disabled]="currentPage === 1"
        class="px-4 py-2 rounded-md bg-gray-200 text-gray-700 hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed">
        Previous
      </button>

      @if (currentPage > 2) {
        <button (click)="goToPage(1)" class="px-4 py-2 rounded-md hover:bg-gray-100">1</button>
      }

      @if (currentPage > 3) {
        <span class="px-2">...</span>
      }

      @if (currentPage > 1) {
        <button (click)="goToPage(currentPage - 1)" class="px-4 py-2 rounded-md hover:bg-gray-100">
          {{ currentPage - 1 }}
        </button>
      }

      <button class="px-4 py-2 rounded-md bg-blue-600 text-white">
        {{ currentPage }}
      </button>

      @if (currentPage < totalPages) {
        <button (click)="goToPage(currentPage + 1)" class="px-4 py-2 rounded-md hover:bg-gray-100">
          {{ currentPage + 1 }}
        </button>
      }

      @if (currentPage < totalPages - 2) {
        <span class="px-2">...</span>
      }

      @if (currentPage < totalPages - 1) {
        <button (click)="goToPage(totalPages)" class="px-4 py-2 rounded-md hover:bg-gray-100">
          {{ totalPages }}
        </button>
      }

      <button
        (click)="goToPage(currentPage + 1)"
        [disabled]="currentPage === totalPages"
        class="px-4 py-2 rounded-md bg-gray-200 text-gray-700 hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed">
        Next
      </button>
    </nav>
  </div>

  <div class="text-center mt-4 text-sm text-gray-600">
    Page {{ currentPage }} of {{ totalPages }}
  </div>
</div>
